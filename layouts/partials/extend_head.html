<script>
console.log('üéØ Logo switcher loading...');

function updateLogo() {
    var logo = document.querySelector('.header .logo img');
    if (!logo) {
        console.log('‚ùå Logo not found');
        return;
    }
    
    var isDark = document.body.classList.contains('dark');
    var newSrc = isDark ? '/images/Faisal_Khan_LLC_dark.png' : '/images/Faisal_Khan_LLC_light.png';
    
    if (logo.src !== newSrc) {
        logo.src = newSrc;
        console.log('‚úÖ Logo updated to:', newSrc, '(Dark mode:', isDark + ')');
    }
}

// Update logo immediately when page loads
document.addEventListener('DOMContentLoaded', function() {
    console.log('üìÑ Page loaded, setting initial logo...');
    updateLogo();
});

// Watch for theme toggle clicks
document.addEventListener('click', function(e) {
    var themeToggle = document.getElementById('theme-toggle');
    if (e.target === themeToggle || e.target.closest('#theme-toggle')) {
        console.log('üéõÔ∏è Theme toggle clicked');
        // Small delay to let PaperMod change the body class first
        setTimeout(updateLogo, 100);
    }
});

// Backup method: Watch for body class changes
var observer = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {
            console.log('üëÅÔ∏è Body class changed');
            setTimeout(updateLogo, 50);
        }
    });
});
observer.observe(document.body, { attributes: true, attributeFilter: ['class'] });

console.log('‚úÖ Logo switcher ready');
</script>